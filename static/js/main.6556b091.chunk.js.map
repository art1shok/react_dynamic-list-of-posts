{"version":3,"sources":["Api.js","Debounce.js","App.js","index.js"],"names":["getUsers","fetch","then","response","ok","json","catch","getPosts","getComments","debounce","func","delay","timer","clearTimeout","_len","arguments","length","args","Array","_key","setTimeout","apply","concat","App","_useState","useState","_useState2","Object","slicedToArray","postsWithUsers","setPostsWithUsers","_useState3","_useState4","isLoading","setLoading","_useState5","_useState6","searchItem","setSearchItem","debounceHandler","value","searchQuery","toLowerCase","filter","_ref3","title","body","includes","postsToBeShown","toConsumableArray","post","react_default","a","createElement","className","Fragment","type","placeholder","onChange","e","target","PostList_default","posts","onClick","_ref","_ref2","users","comments","regenerator_default","async","_context","prev","next","awrap","Promise","all","sent","map","objectSpread2","user","find","id","userId","comment","postId","stop","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.6556b091.chunk.js","sourcesContent":["const usersUrl = 'https://jsonplaceholder.typicode.com/users';\nconst commentsUrl = 'https://jsonplaceholder.typicode.com/comments';\nconst postsUrl = 'https://jsonplaceholder.typicode.com/posts';\n\nexport const getUsers = () => fetch(usersUrl)\n  .then(response => (response.ok ? response.json() : []))\n  .catch(() => []);\n\nexport const getPosts = () => fetch(postsUrl)\n  .then(response => (response.ok ? response.json() : []))\n  .catch(() => []);\n\nexport const getComments = () => fetch(commentsUrl)\n  .then(response => (response.ok ? response.json() : []))\n  .catch(() => []);\n","export const debounce = (func, delay) => {\n  let timer;\n\n  return (...args) => {\n    clearTimeout(timer);\n\n    timer = setTimeout(func, delay, ...args);\n  };\n};\n","import React, { useState } from 'react';\nimport './App.css';\nimport { getComments, getPosts, getUsers } from './Api';\nimport PostList from './PostList';\nimport { debounce } from './Debounce';\n\nfunction App() {\n  const [postsWithUsers, setPostsWithUsers] = useState([]);\n  const [isLoading, setLoading] = useState(false);\n  const [searchItem, setSearchItem] = useState('');\n\n  const loadData = async() => {\n    setLoading(!isLoading);\n\n    const [\n      posts,\n      users,\n      comments,\n    ] = await Promise.all([\n      getPosts(),\n      getUsers(),\n      getComments(),\n    ]);\n\n    setPostsWithUsers(posts.map(\n      post => ({\n        ...post,\n        user: users.find(user => user.id === post.userId),\n        comments: comments\n          .filter(comment => comment.postId === post.id),\n      })\n    ));\n  };\n\n  const searchPosts = (value) => {\n    const searchQuery = value.toLowerCase();\n\n    getPosts(\n      setSearchItem.filter(\n        ({ title, body }) => (\n          (title + body).toLowerCase().includes(searchQuery)\n        )\n      )\n    );\n  };\n\n  const debounceHandler = debounce(searchPosts, 500);\n\n  const filteredItems = () => ([...postsWithUsers]\n    .filter(post => (post.title + post.body)\n      .toLowerCase().includes(searchItem)));\n\n  const postsToBeShown = searchItem ? filteredItems() : [...postsWithUsers];\n\n  return (\n    <div className=\"App\">\n      <h1 className=\"title\">Dynamic List of Posts</h1>\n      {postsWithUsers.length > 0 ? (\n        <>\n          <input\n            type=\"text\"\n            className=\"search-bar\"\n            placeholder=\"Search for posts\"\n            onChange={e => debounceHandler(e.target.value)}\n          />\n          <PostList posts={postsToBeShown} />\n        </>\n      ) : (\n        <button\n          className=\"button\"\n          type=\"button\"\n          onClick={loadData}\n        >\n          {isLoading ? 'Loading...' : 'Load'}\n        </button>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n"],"sourceRoot":""}